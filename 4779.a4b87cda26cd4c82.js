"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4779],{4779:(k,g,o)=>{o.r(g),o.d(g,{FastHomePageModule:()=>T});var c=o(177),d=o(8326),l=o(4654),h=o(7944),m=o(467),u=o(1824),p=o(1101),C=o(6036),t=o(277),f=o(6970),y=o(172);function D(i,F){1&i&&(t.j41(0,"ion-segment-button",20)(1,"ion-label"),t.EFF(2,"Round Trip"),t.k0s()())}function v(i,F){if(1&i){const e=t.RV6();t.j41(0,"div",15)(1,"ion-item",9),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.openCalendar("return"))}),t.nrm(2,"ion-icon",16),t.j41(3,"ion-label")(4,"h3"),t.EFF(5,"Return Date (Optional)"),t.k0s(),t.j41(6,"p"),t.EFF(7),t.nI1(8,"date"),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(7),t.JRh((null==e.departureDateReturn?null:e.departureDateReturn.formattedDate)||t.i5U(8,1,e.departureDateReturn,"dd-MM-yyyy")||"Select return date")}}const b=[{path:"",component:(()=>{class i{constructor(e,a,n,s,r,P,M,R){this.router=e,this.navCtrl=a,this.modalController=n,this.commonStorage=s,this.appData=r,this.dateService=P,this.util=M,this.commonService=R,this.enableSearch=!1,this.selectedTripSegment="oneway",this.isRoundTrip=!0,this.showRoundTripBox=!0,this.searchData={originCity:null,destCity:null},this.departureDate={},this.departureDateReturn={},this.hideShowOldTheme=!1,this.initializeCriticalData()}ngOnInit(){console.log("FastHomePage loaded - ultra-fast mode"),this.checkRoundTripSettings(),this.enableInitialUI(),setTimeout(()=>{this.setupSearchValidation()},0)}initializeCriticalData(){const e=new Date,a=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear();this.departureDate={day:e.getDate(),month:e.getMonth()+1,year:s,formattedDate:`${a}-${n}-${s}`},this.hideShowOldTheme=!this.util.getNewTheme(),console.log("Critical data initialized instantly")}checkRoundTripSettings(){this.metaData=this.commonStorage.getItem("metaData"),this.metaData?(this.isRoundTrip=this.metaData.isRoundTrip||!1,this.showRoundTripBox=this.isRoundTrip):(this.isRoundTrip=!0,this.showRoundTripBox=!0),console.log("Round trip enabled:",this.isRoundTrip)}setupSearchValidation(){const e=()=>{this.enableSearch="oneway"===this.selectedTripSegment?!!(this.searchData.originCity&&this.searchData.destCity&&this.departureDate.day):!!(this.searchData.originCity&&this.searchData.destCity&&this.departureDate.day&&this.departureDateReturn.day)};e(),this.validateSearch=e}enableInitialUI(){this.enableSearch=!!(this.searchData.originCity&&this.searchData.destCity&&this.departureDate?.day),console.log("Initial UI enabled - departure date:",this.departureDate?.formattedDate)}onTripTypeChange(e){this.selectedTripSegment=e.detail.value,console.log("Trip type changed to:",this.selectedTripSegment),this.validateSearch&&this.validateSearch()}openCitiesModal(e){var a=this;return(0,m.A)(function*(){console.log("Opening cities modal for:",e);const{CitiesModalPage:n}=yield Promise.resolve().then(o.bind(o,5960)),s=yield a.modalController.create({component:n,componentProps:{type:e}});return s.onDidDismiss().then(r=>{r.data&&("origin"===e?a.searchData.originCity=r.data:a.searchData.destCity=r.data,a.validateSearch&&a.validateSearch())}),yield s.present()})()}openCalendar(e){var a=this;return(0,m.A)(function*(){console.log("Opening calendar for:",e);const{CalenderModalPage:n}=yield Promise.resolve().then(o.bind(o,2140)),s=yield a.modalController.create({component:n,componentProps:{type:e}});return s.onDidDismiss().then(r=>{r.data&&("departure"===e?a.departureDate=r.data:a.departureDateReturn=r.data,a.validateSearch&&a.validateSearch())}),yield s.present()})()}searchBuses(){this.enableSearch?(console.log("Searching buses..."),this.commonStorage.localSet("origin",this.searchData.originCity),this.commonStorage.localSet("destination",this.searchData.destCity),this.commonStorage.localSet("travelDate",this.departureDate),"twoway"===this.selectedTripSegment&&this.commonStorage.localSet("travelDateReturn",this.departureDateReturn),this.navCtrl.navigateForward("available-routes")):console.log("Search validation failed")}swapCities(){const e=this.searchData.originCity;this.searchData.originCity=this.searchData.destCity,this.searchData.destCity=e,console.log("Cities swapped")}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(h.Ix),t.rXU(l.q9),t.rXU(l.W3),t.rXU(f.P),t.rXU(y.a),t.rXU(u.kT),t.rXU(p.u),t.rXU(C.h))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-fast-home"]],decls:44,vars:10,consts:[[1,"home-container"],[1,"logo-section"],["src","assets/icon/tsrtc_logo.webp","alt","TSRTC Logo","loading","eager","decoding","async",1,"logo"],[1,"search-container"],[3,"ngModel","ngModelChange","ionChange"],["value","oneway"],["value","twoway",4,"ngIf"],[1,"route-selector"],[1,"city-input"],["button","",3,"click"],["name","location-outline","slot","start"],[1,"swap-button"],["fill","clear",3,"click"],["name","swap-vertical-outline"],[1,"date-selectors"],[1,"date-input"],["name","calendar-outline","slot","start"],["class","date-input",4,"ngIf"],["expand","block",1,"search-button",3,"disabled","click"],["name","search-outline","slot","start"],["value","twoway"]],template:function(a,n){1&a&&(t.j41(0,"ion-content")(1,"div",0)(2,"div",1),t.nrm(3,"img",2),t.k0s(),t.j41(4,"div",3)(5,"ion-segment",4),t.bIt("ngModelChange",function(r){return n.selectedTripSegment=r})("ionChange",function(r){return n.onTripTypeChange(r)}),t.j41(6,"ion-segment-button",5)(7,"ion-label"),t.EFF(8,"One Way"),t.k0s()(),t.DNE(9,D,3,0,"ion-segment-button",6),t.k0s(),t.j41(10,"div",7)(11,"div",8)(12,"ion-item",9),t.bIt("click",function(){return n.openCitiesModal("origin")}),t.nrm(13,"ion-icon",10),t.j41(14,"ion-label")(15,"h3"),t.EFF(16,"From"),t.k0s(),t.j41(17,"p"),t.EFF(18),t.k0s()()()(),t.j41(19,"div",11)(20,"ion-button",12),t.bIt("click",function(){return n.swapCities()}),t.nrm(21,"ion-icon",13),t.k0s()(),t.j41(22,"div",8)(23,"ion-item",9),t.bIt("click",function(){return n.openCitiesModal("destination")}),t.nrm(24,"ion-icon",10),t.j41(25,"ion-label")(26,"h3"),t.EFF(27,"To"),t.k0s(),t.j41(28,"p"),t.EFF(29),t.k0s()()()()(),t.j41(30,"div",14)(31,"div",15)(32,"ion-item",9),t.bIt("click",function(){return n.openCalendar("departure")}),t.nrm(33,"ion-icon",16),t.j41(34,"ion-label")(35,"h3"),t.EFF(36,"Departure Date"),t.k0s(),t.j41(37,"p"),t.EFF(38),t.nI1(39,"date"),t.k0s()()()(),t.DNE(40,v,9,4,"div",17),t.k0s(),t.j41(41,"ion-button",18),t.bIt("click",function(){return n.searchBuses()}),t.nrm(42,"ion-icon",19),t.EFF(43," Search Buses "),t.k0s()()()()),2&a&&(t.R7$(5),t.Y8G("ngModel",n.selectedTripSegment),t.R7$(4),t.Y8G("ngIf",n.showRoundTripBox),t.R7$(9),t.JRh((null==n.searchData.originCity?null:n.searchData.originCity.name)||"Select origin city"),t.R7$(11),t.JRh((null==n.searchData.destCity?null:n.searchData.destCity.name)||"Select destination city"),t.R7$(9),t.JRh((null==n.departureDate?null:n.departureDate.formattedDate)||t.i5U(39,7,n.departureDate,"dd-MM-yyyy")||"Select date"),t.R7$(2),t.Y8G("ngIf","twoway"===n.selectedTripSegment),t.R7$(1),t.Y8G("disabled",!n.enableSearch))},dependencies:[c.bT,d.BC,d.vS,l.Jm,l.W9,l.iq,l.uz,l.he,l.Gp,l.eP,l.Je,c.vh],styles:[".home-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;padding:16px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.logo-section[_ngcontent-%COMP%]{text-align:center;margin:20px 0 40px}.logo[_ngcontent-%COMP%]{max-width:200px;height:auto;filter:brightness(1.1)}.search-container[_ngcontent-%COMP%]{background:white;border-radius:12px;padding:20px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}ion-segment[_ngcontent-%COMP%]{margin-bottom:20px}.route-selector[_ngcontent-%COMP%]{margin:16px 0}.city-input[_ngcontent-%COMP%]{margin:8px 0}.swap-button[_ngcontent-%COMP%]{text-align:center;margin:8px 0}.date-selectors[_ngcontent-%COMP%]{margin:16px 0}.date-input[_ngcontent-%COMP%]{margin:8px 0}.search-button[_ngcontent-%COMP%]{margin-top:20px;--background: #3498db;--background-activated: #2980b9;--color: white;font-weight:700;height:48px}.search-button[_ngcontent-%COMP%]:disabled{--background: #bdc3c7;--color: #7f8c8d}ion-item[_ngcontent-%COMP%]{--background: #f8f9fa;--color: #2c3e50;border-radius:8px;margin:4px 0}ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#3498db;font-weight:600;margin:0;font-size:.9rem}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:1rem;color:#2c3e50}ion-icon[_ngcontent-%COMP%]{color:#3498db}"]})}}return i})()}];let S=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(b),h.iI]})}}return i})(),T=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[c.MD,d.YN,l.bv,S]})}}return i})()}}]);